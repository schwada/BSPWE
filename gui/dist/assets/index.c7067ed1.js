import{R as J,u as Oe,a as Le,j as T,b as p,N as Ee,s as Nr,i as ie,T as Ce,c as Re,B as ir,d as Ar,e as Z,f as Ye,P as Vr}from"./index.ca15fb4d.js";var ce=e=>e.type==="checkbox",re=e=>e instanceof Date,L=e=>e==null;const lr=e=>typeof e=="object";var D=e=>!L(e)&&!Array.isArray(e)&&lr(e)&&!re(e),Fr=e=>D(e)&&e.target?ce(e.target)?e.target.checked:e.target.value:e,kr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Sr=(e,i)=>e.has(kr(i)),de=e=>Array.isArray(e)?e.filter(Boolean):[],k=e=>e===void 0,d=(e,i,s)=>{if(!i||!D(e))return s;const o=de(i.split(/[,[\].]+?/)).reduce((t,n)=>L(t)?t:t[n],e);return k(o)||o===e?k(e[i])?s:e[i]:o};const ze={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},B={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},$={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};J.createContext(null);var Dr=(e,i,s,o=!0)=>{const t={defaultValues:i._defaultValues};for(const n in e)Object.defineProperty(t,n,{get:()=>{const h=n;return i._proxyFormState[h]!==B.all&&(i._proxyFormState[h]=!o||B.all),s&&(s[h]=!0),e[h]}});return t},U=e=>D(e)&&!Object.keys(e).length,Er=(e,i,s,o)=>{s(e);const{name:t,...n}=e;return U(n)||Object.keys(n).length>=Object.keys(i).length||Object.keys(n).find(h=>i[h]===(!o||B.all))},Ve=e=>Array.isArray(e)?e:[e];function Tr(e){const i=J.useRef(e);i.current=e,J.useEffect(()=>{const s=!e.disabled&&i.current.subject.subscribe({next:i.current.next});return()=>{s&&s.unsubscribe()}},[e.disabled])}var H=e=>typeof e=="string",Or=(e,i,s,o,t)=>H(e)?(o&&i.watch.add(e),d(s,e,t)):Array.isArray(e)?e.map(n=>(o&&i.watch.add(n),d(s,n))):(o&&(i.watchAll=!0),s),Lr=e=>{const i=e.constructor&&e.constructor.prototype;return D(i)&&i.hasOwnProperty("isPrototypeOf")},qe=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function G(e){let i;const s=Array.isArray(e);if(e instanceof Date)i=new Date(e);else if(e instanceof Set)i=new Set(e);else if(!(qe&&(e instanceof Blob||e instanceof FileList))&&(s||D(e)))if(i=s?[]:{},!Array.isArray(e)&&!Lr(e))i=e;else for(const o in e)i[o]=G(e[o]);else return e;return i}var Cr=(e,i,s,o,t)=>i?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[o]:t||!0}}:{},Ue=e=>/^\w*$/.test(e),ar=e=>de(e.replace(/["|']|\]/g,"").split(/\.|\[/));function _(e,i,s){let o=-1;const t=Ue(i)?[i]:ar(i),n=t.length,h=n-1;for(;++o<n;){const g=t[o];let N=s;if(o!==h){const w=e[g];N=D(w)||Array.isArray(w)?w:isNaN(+t[o+1])?{}:[]}e[g]=N,e=e[g]}return e}const Te=(e,i,s)=>{for(const o of s||Object.keys(e)){const t=d(e,o);if(t){const{_f:n,...h}=t;if(n&&i(n.name)){if(n.ref.focus){n.ref.focus();break}else if(n.refs&&n.refs[0].focus){n.refs[0].focus();break}}else D(h)&&Te(h,i)}}};var Ge=e=>({isOnSubmit:!e||e===B.onSubmit,isOnBlur:e===B.onBlur,isOnChange:e===B.onChange,isOnAll:e===B.all,isOnTouch:e===B.onTouched}),Qe=(e,i,s)=>!s&&(i.watchAll||i.watch.has(e)||[...i.watch].some(o=>e.startsWith(o)&&/^\.\w+/.test(e.slice(o.length)))),Rr=(e,i,s)=>{const o=de(d(e,s));return _(o,"root",i[s]),_(e,s,o),e},te=e=>typeof e=="boolean",Me=e=>e.type==="file",se=e=>typeof e=="function",pe=e=>{if(!qe)return!1;const i=e?e.ownerDocument:0;return e instanceof(i&&i.defaultView?i.defaultView.HTMLElement:HTMLElement)},he=e=>H(e)||J.isValidElement(e),Be=e=>e.type==="radio",ye=e=>e instanceof RegExp;const Xe={value:!1,isValid:!1},Ze={value:!0,isValid:!0};var nr=e=>{if(Array.isArray(e)){if(e.length>1){const i=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:i,isValid:!!i.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!k(e[0].attributes.value)?k(e[0].value)||e[0].value===""?Ze:{value:e[0].value,isValid:!0}:Ze:Xe}return Xe};const er={isValid:!1,value:null};var or=e=>Array.isArray(e)?e.reduce((i,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:i,er):er;function rr(e,i,s="validate"){if(he(e)||Array.isArray(e)&&e.every(he)||te(e)&&!e)return{type:s,message:he(e)?e:"",ref:i}}var ee=e=>D(e)&&!ye(e)?e:{value:e,message:""},tr=async(e,i,s,o,t)=>{const{ref:n,refs:h,required:g,maxLength:N,minLength:w,min:K,max:X,pattern:S,validate:m,name:R,valueAsNumber:xe,mount:fe,disabled:be}=e._f,x=d(i,R);if(!fe||be)return{};const M=h?h[0]:n,W=v=>{o&&M.reportValidity&&(M.setCustomValidity(te(v)?"":v||""),M.reportValidity())},E={},le=Be(n),ae=ce(n),we=le||ae,P=(xe||Me(n))&&k(n.value)&&k(x)||pe(n)&&n.value===""||x===""||Array.isArray(x)&&!x.length,Y=Cr.bind(null,R,s,E),j=(v,b,V,C=$.maxLength,q=$.minLength)=>{const I=v?b:V;E[R]={type:v?C:q,message:I,ref:n,...Y(v?C:q,I)}};if(t?!Array.isArray(x)||!x.length:g&&(!we&&(P||L(x))||te(x)&&!x||ae&&!nr(h).isValid||le&&!or(h).isValid)){const{value:v,message:b}=he(g)?{value:!!g,message:g}:ee(g);if(v&&(E[R]={type:$.required,message:b,ref:M,...Y($.required,b)},!s))return W(b),E}if(!P&&(!L(K)||!L(X))){let v,b;const V=ee(X),C=ee(K);if(!L(x)&&!isNaN(x)){const q=n.valueAsNumber||x&&+x;L(V.value)||(v=q>V.value),L(C.value)||(b=q<C.value)}else{const q=n.valueAsDate||new Date(x),I=oe=>new Date(new Date().toDateString()+" "+oe),z=n.type=="time",ne=n.type=="week";H(V.value)&&x&&(v=z?I(x)>I(V.value):ne?x>V.value:q>new Date(V.value)),H(C.value)&&x&&(b=z?I(x)<I(C.value):ne?x<C.value:q<new Date(C.value))}if((v||b)&&(j(!!v,V.message,C.message,$.max,$.min),!s))return W(E[R].message),E}if((N||w)&&!P&&(H(x)||t&&Array.isArray(x))){const v=ee(N),b=ee(w),V=!L(v.value)&&x.length>v.value,C=!L(b.value)&&x.length<b.value;if((V||C)&&(j(V,v.message,b.message),!s))return W(E[R].message),E}if(S&&!P&&H(x)){const{value:v,message:b}=ee(S);if(ye(v)&&!x.match(v)&&(E[R]={type:$.pattern,message:b,ref:n,...Y($.pattern,b)},!s))return W(b),E}if(m){if(se(m)){const v=await m(x,i),b=rr(v,M);if(b&&(E[R]={...b,...Y($.validate,b.message)},!s))return W(b.message),E}else if(D(m)){let v={};for(const b in m){if(!U(v)&&!s)break;const V=rr(await m[b](x,i),M,b);V&&(v={...V,...Y(b,V.message)},W(V.message),s&&(E[R]=v))}if(!U(v)&&(E[R]={ref:M,...v},!s))return E}}return W(!0),E};function qr(e,i){const s=i.slice(0,-1).length;let o=0;for(;o<s;)e=k(e)?o++:e[i[o++]];return e}function Ur(e){for(const i in e)if(!k(e[i]))return!1;return!0}function O(e,i){const s=Array.isArray(i)?i:Ue(i)?[i]:ar(i),o=s.length===1?e:qr(e,s),t=s.length-1,n=s[t];return o&&delete o[n],t!==0&&(D(o)&&U(o)||Array.isArray(o)&&Ur(o))&&O(e,s.slice(0,-1)),e}function Fe(){let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(n=>n!==t)}}),unsubscribe:()=>{e=[]}}}var ge=e=>L(e)||!lr(e);function Q(e,i){if(ge(e)||ge(i))return e===i;if(re(e)&&re(i))return e.getTime()===i.getTime();const s=Object.keys(e),o=Object.keys(i);if(s.length!==o.length)return!1;for(const t of s){const n=e[t];if(!o.includes(t))return!1;if(t!=="ref"){const h=i[t];if(re(n)&&re(h)||D(n)&&D(h)||Array.isArray(n)&&Array.isArray(h)?!Q(n,h):n!==h)return!1}}return!0}var ur=e=>e.type==="select-multiple",Mr=e=>Be(e)||ce(e),ke=e=>pe(e)&&e.isConnected,cr=e=>{for(const i in e)if(se(e[i]))return!0;return!1};function me(e,i={}){const s=Array.isArray(e);if(D(e)||s)for(const o in e)Array.isArray(e[o])||D(e[o])&&!cr(e[o])?(i[o]=Array.isArray(e[o])?[]:{},me(e[o],i[o])):L(e[o])||(i[o]=!0);return i}function dr(e,i,s){const o=Array.isArray(e);if(D(e)||o)for(const t in e)Array.isArray(e[t])||D(e[t])&&!cr(e[t])?k(i)||ge(s[t])?s[t]=Array.isArray(e[t])?me(e[t],[]):{...me(e[t])}:dr(e[t],L(i)?{}:i[t],s[t]):Q(e[t],i[t])?delete s[t]:s[t]=!0;return s}var Se=(e,i)=>dr(e,i,me(i)),fr=(e,{valueAsNumber:i,valueAsDate:s,setValueAs:o})=>k(e)?e:i?e===""?NaN:e&&+e:s&&H(e)?new Date(e):o?o(e):e;function De(e){const i=e.ref;if(!(e.refs?e.refs.every(s=>s.disabled):i.disabled))return Me(i)?i.files:Be(i)?or(e.refs).value:ur(i)?[...i.selectedOptions].map(({value:s})=>s):ce(i)?nr(e.refs).value:fr(k(i.value)?e.ref.value:i.value,e)}var Br=(e,i,s,o)=>{const t={};for(const n of e){const h=d(i,n);h&&_(t,n,h._f)}return{criteriaMode:s,names:[...e],fields:t,shouldUseNativeValidation:o}},ue=e=>k(e)?e:ye(e)?e.source:D(e)?ye(e.value)?e.value.source:e.value:e,Pr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function sr(e,i,s){const o=d(e,s);if(o||Ue(s))return{error:o,name:s};const t=s.split(".");for(;t.length;){const n=t.join("."),h=d(i,n),g=d(e,n);if(h&&!Array.isArray(h)&&s!==n)return{name:s};if(g&&g.type)return{name:n,error:g};t.pop()}return{name:s}}var Ir=(e,i,s,o,t)=>t.isOnAll?!1:!s&&t.isOnTouch?!(i||e):(s?o.isOnBlur:t.isOnBlur)?!e:(s?o.isOnChange:t.isOnChange)?e:!0,Hr=(e,i)=>!de(d(e,i)).length&&O(e,i);const Wr={mode:B.onSubmit,reValidateMode:B.onChange,shouldFocusError:!0};function jr(e={},i){let s={...Wr,...e};const o=e.resetOptions&&e.resetOptions.keepDirtyValues;let t={submitCount:0,isDirty:!1,isLoading:!0,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},n={},h=D(s.defaultValues)||D(s.values)?G(s.defaultValues||s.values)||{}:{},g=s.shouldUnregister?{}:G(h),N={action:!1,mount:!1,watch:!1},w={mount:new Set,unMount:new Set,array:new Set,watch:new Set},K,X=0;const S={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},m={watch:Fe(),array:Fe(),state:Fe()},R=Ge(s.mode),xe=Ge(s.reValidateMode),fe=s.criteriaMode===B.all,be=r=>l=>{clearTimeout(X),X=window.setTimeout(r,l)},x=async r=>{if(S.isValid||r){const l=s.resolver?U((await P()).errors):await j(n,!0);l!==t.isValid&&m.state.next({isValid:l})}},M=r=>S.isValidating&&m.state.next({isValidating:r}),W=(r,l=[],a,c,f=!0,u=!0)=>{if(c&&a){if(N.action=!0,u&&Array.isArray(d(n,r))){const y=a(d(n,r),c.argA,c.argB);f&&_(n,r,y)}if(u&&Array.isArray(d(t.errors,r))){const y=a(d(t.errors,r),c.argA,c.argB);f&&_(t.errors,r,y),Hr(t.errors,r)}if(S.touchedFields&&u&&Array.isArray(d(t.touchedFields,r))){const y=a(d(t.touchedFields,r),c.argA,c.argB);f&&_(t.touchedFields,r,y)}S.dirtyFields&&(t.dirtyFields=Se(h,g)),m.state.next({name:r,isDirty:b(r,l),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else _(g,r,l)},E=(r,l)=>{_(t.errors,r,l),m.state.next({errors:t.errors})},le=(r,l,a,c)=>{const f=d(n,r);if(f){const u=d(g,r,k(a)?d(h,r):a);k(u)||c&&c.defaultChecked||l?_(g,r,l?u:De(f._f)):q(r,u),N.mount&&x()}},ae=(r,l,a,c,f)=>{let u=!1,y=!1;const F={name:r};if(!a||c){S.isDirty&&(y=t.isDirty,t.isDirty=F.isDirty=b(),u=y!==F.isDirty);const A=Q(d(h,r),l);y=d(t.dirtyFields,r),A?O(t.dirtyFields,r):_(t.dirtyFields,r,!0),F.dirtyFields=t.dirtyFields,u=u||S.dirtyFields&&y!==!A}if(a){const A=d(t.touchedFields,r);A||(_(t.touchedFields,r,a),F.touchedFields=t.touchedFields,u=u||S.touchedFields&&A!==a)}return u&&f&&m.state.next(F),u?F:{}},we=(r,l,a,c)=>{const f=d(t.errors,r),u=S.isValid&&te(l)&&t.isValid!==l;if(e.delayError&&a?(K=be(()=>E(r,a)),K(e.delayError)):(clearTimeout(X),K=null,a?_(t.errors,r,a):O(t.errors,r)),(a?!Q(f,a):f)||!U(c)||u){const y={...c,...u&&te(l)?{isValid:l}:{},errors:t.errors,name:r};t={...t,...y},m.state.next(y)}M(!1)},P=async r=>await s.resolver(g,s.context,Br(r||w.mount,n,s.criteriaMode,s.shouldUseNativeValidation)),Y=async r=>{const{errors:l}=await P();if(r)for(const a of r){const c=d(l,a);c?_(t.errors,a,c):O(t.errors,a)}else t.errors=l;return l},j=async(r,l,a={valid:!0})=>{for(const c in r){const f=r[c];if(f){const{_f:u,...y}=f;if(u){const F=w.array.has(u.name),A=await tr(f,g,fe,s.shouldUseNativeValidation,F);if(A[u.name]&&(a.valid=!1,l))break;!l&&(d(A,u.name)?F?Rr(t.errors,A,u.name):_(t.errors,u.name,A[u.name]):O(t.errors,u.name))}y&&await j(y,l,a)}}return a.valid},v=()=>{for(const r of w.unMount){const l=d(n,r);l&&(l._f.refs?l._f.refs.every(a=>!ke(a)):!ke(l._f.ref))&&ve(r)}w.unMount=new Set},b=(r,l)=>(r&&l&&_(g,r,l),!Q(Ie(),h)),V=(r,l,a)=>Or(r,w,{...N.mount?g:k(l)?h:H(r)?{[r]:l}:l},a,l),C=r=>de(d(N.mount?g:h,r,e.shouldUnregister?d(h,r,[]):[])),q=(r,l,a={})=>{const c=d(n,r);let f=l;if(c){const u=c._f;u&&(!u.disabled&&_(g,r,fr(l,u)),f=pe(u.ref)&&L(l)?"":l,ur(u.ref)?[...u.ref.options].forEach(y=>y.selected=f.includes(y.value)):u.refs?ce(u.ref)?u.refs.length>1?u.refs.forEach(y=>(!y.defaultChecked||!y.disabled)&&(y.checked=Array.isArray(f)?!!f.find(F=>F===y.value):f===y.value)):u.refs[0]&&(u.refs[0].checked=!!f):u.refs.forEach(y=>y.checked=y.value===f):Me(u.ref)?u.ref.value="":(u.ref.value=f,u.ref.type||m.watch.next({name:r})))}(a.shouldDirty||a.shouldTouch)&&ae(r,f,a.shouldTouch,a.shouldDirty,!0),a.shouldValidate&&oe(r)},I=(r,l,a)=>{for(const c in l){const f=l[c],u=`${r}.${c}`,y=d(n,u);(w.array.has(r)||!ge(f)||y&&!y._f)&&!re(f)?I(u,f,a):q(u,f,a)}},z=(r,l,a={})=>{const c=d(n,r),f=w.array.has(r),u=G(l);_(g,r,u),f?(m.array.next({name:r,values:g}),(S.isDirty||S.dirtyFields)&&a.shouldDirty&&m.state.next({name:r,dirtyFields:Se(h,g),isDirty:b(r,u)})):c&&!c._f&&!L(u)?I(r,u,a):q(r,u,a),Qe(r,w)&&m.state.next({}),m.watch.next({name:r}),!N.mount&&i()},ne=async r=>{const l=r.target;let a=l.name;const c=d(n,a),f=()=>l.type?De(c._f):Fr(r);if(c){let u,y;const F=f(),A=r.type===ze.BLUR||r.type===ze.FOCUS_OUT,wr=!Pr(c._f)&&!s.resolver&&!d(t.errors,a)&&!c._f.deps||Ir(A,d(t.touchedFields,a),t.isSubmitted,xe,R),Ne=Qe(a,w,A);_(g,a,F),A?(c._f.onBlur&&c._f.onBlur(r),K&&K(0)):c._f.onChange&&c._f.onChange(r);const Ae=ae(a,F,A,!1),vr=!U(Ae)||Ne;if(!A&&m.watch.next({name:a,type:r.type}),wr)return S.isValid&&x(),vr&&m.state.next({name:a,...Ne?{}:Ae});if(!A&&Ne&&m.state.next({}),M(!0),s.resolver){const{errors:Je}=await P([a]),_r=sr(t.errors,n,a),Ke=sr(Je,n,_r.name||a);u=Ke.error,a=Ke.name,y=U(Je)}else u=(await tr(c,g,fe,s.shouldUseNativeValidation))[a],u?y=!1:S.isValid&&(y=await j(n,!0));c._f.deps&&oe(c._f.deps),we(a,y,u,Ae)}},oe=async(r,l={})=>{let a,c;const f=Ve(r);if(M(!0),s.resolver){const u=await Y(k(r)?r:f);a=U(u),c=r?!f.some(y=>d(u,y)):a}else r?(c=(await Promise.all(f.map(async u=>{const y=d(n,u);return await j(y&&y._f?{[u]:y}:y)}))).every(Boolean),!(!c&&!t.isValid)&&x()):c=a=await j(n);return m.state.next({...!H(r)||S.isValid&&a!==t.isValid?{}:{name:r},...s.resolver||!r?{isValid:a}:{},errors:t.errors,isValidating:!1}),l.shouldFocus&&!c&&Te(n,u=>u&&d(t.errors,u),r?f:w.mount),c},Ie=r=>{const l={...h,...N.mount?g:{}};return k(r)?l:H(r)?d(l,r):r.map(a=>d(l,a))},He=(r,l)=>({invalid:!!d((l||t).errors,r),isDirty:!!d((l||t).dirtyFields,r),isTouched:!!d((l||t).touchedFields,r),error:d((l||t).errors,r)}),hr=r=>{r&&Ve(r).forEach(l=>O(t.errors,l)),m.state.next({errors:r?t.errors:{}})},pr=(r,l,a)=>{const c=(d(n,r,{_f:{}})._f||{}).ref;_(t.errors,r,{...l,ref:c}),m.state.next({name:r,errors:t.errors,isValid:!1}),a&&a.shouldFocus&&c&&c.focus&&c.focus()},yr=(r,l)=>se(r)?m.watch.subscribe({next:a=>r(V(void 0,l),a)}):V(r,l,!0),ve=(r,l={})=>{for(const a of r?Ve(r):w.mount)w.mount.delete(a),w.array.delete(a),d(n,a)&&(l.keepValue||(O(n,a),O(g,a)),!l.keepError&&O(t.errors,a),!l.keepDirty&&O(t.dirtyFields,a),!l.keepTouched&&O(t.touchedFields,a),!s.shouldUnregister&&!l.keepDefaultValue&&O(h,a));m.watch.next({}),m.state.next({...t,...l.keepDirty?{isDirty:b()}:{}}),!l.keepIsValid&&x()},_e=(r,l={})=>{let a=d(n,r);const c=te(l.disabled);return _(n,r,{...a||{},_f:{...a&&a._f?a._f:{ref:{name:r}},name:r,mount:!0,...l}}),w.mount.add(r),a?c&&_(g,r,l.disabled?void 0:d(g,r,De(a._f))):le(r,!0,l.value),{...c?{disabled:l.disabled}:{},...s.shouldUseNativeValidation?{required:!!l.required,min:ue(l.min),max:ue(l.max),minLength:ue(l.minLength),maxLength:ue(l.maxLength),pattern:ue(l.pattern)}:{},name:r,onChange:ne,onBlur:ne,ref:f=>{if(f){_e(r,l),a=d(n,r);const u=k(f.value)&&f.querySelectorAll&&f.querySelectorAll("input,select,textarea")[0]||f,y=Mr(u),F=a._f.refs||[];if(y?F.find(A=>A===u):u===a._f.ref)return;_(n,r,{_f:{...a._f,...y?{refs:[...F.filter(ke),u,...Array.isArray(d(h,r))?[{}]:[]],ref:{type:u.type,name:r}}:{ref:u}}}),le(r,!1,void 0,u)}else a=d(n,r,{}),a._f&&(a._f.mount=!1),(s.shouldUnregister||l.shouldUnregister)&&!(Sr(w.array,r)&&N.action)&&w.unMount.add(r)}}},We=()=>s.shouldFocusError&&Te(n,r=>r&&d(t.errors,r),w.mount),gr=(r,l)=>async a=>{a&&(a.preventDefault&&a.preventDefault(),a.persist&&a.persist());let c=G(g);if(m.state.next({isSubmitting:!0}),s.resolver){const{errors:f,values:u}=await P();t.errors=f,c=u}else await j(n);O(t.errors,"root"),U(t.errors)?(m.state.next({errors:{}}),await r(c,a)):(l&&await l({...t.errors},a),We()),m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:U(t.errors),submitCount:t.submitCount+1,errors:t.errors})},mr=(r,l={})=>{d(n,r)&&(k(l.defaultValue)?z(r,d(h,r)):(z(r,l.defaultValue),_(h,r,l.defaultValue)),l.keepTouched||O(t.touchedFields,r),l.keepDirty||(O(t.dirtyFields,r),t.isDirty=l.defaultValue?b(r,d(h,r)):b()),l.keepError||(O(t.errors,r),S.isValid&&x()),m.state.next({...t}))},je=(r,l={})=>{const a=r||h,c=G(a),f=r&&!U(r)?c:h;if(l.keepDefaultValues||(h=a),!l.keepValues){if(l.keepDirtyValues||o)for(const u of w.mount)d(t.dirtyFields,u)?_(f,u,d(g,u)):z(u,d(f,u));else{if(qe&&k(r))for(const u of w.mount){const y=d(n,u);if(y&&y._f){const F=Array.isArray(y._f.refs)?y._f.refs[0]:y._f.ref;if(pe(F)){const A=F.closest("form");if(A){A.reset();break}}}}n={}}g=e.shouldUnregister?l.keepDefaultValues?G(h):{}:c,m.array.next({values:f}),m.watch.next({values:f})}w={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!N.mount&&i(),N.mount=!S.isValid||!!l.keepIsValid,N.watch=!!e.shouldUnregister,m.state.next({submitCount:l.keepSubmitCount?t.submitCount:0,isDirty:l.keepDirty||l.keepDirtyValues?t.isDirty:!!(l.keepDefaultValues&&!Q(r,h)),isSubmitted:l.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:l.keepDirty||l.keepDirtyValues?t.dirtyFields:l.keepDefaultValues&&r?Se(h,r):{},touchedFields:l.keepTouched?t.touchedFields:{},errors:l.keepErrors?t.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},$e=(r,l)=>je(se(r)?r(g):r,l),xr=(r,l={})=>{const a=d(n,r),c=a&&a._f;if(c){const f=c.refs?c.refs[0]:c.ref;f.focus&&(f.focus(),l.shouldSelect&&f.select())}},br=r=>{t={...t,...r}};return se(s.defaultValues)&&s.defaultValues().then(r=>{$e(r,s.resetOptions),m.state.next({isLoading:!1})}),{control:{register:_e,unregister:ve,getFieldState:He,_executeSchema:P,_focusError:We,_getWatch:V,_getDirty:b,_updateValid:x,_removeUnmounted:v,_updateFieldArray:W,_getFieldArray:C,_reset:je,_updateFormState:br,_subjects:m,_proxyFormState:S,get _fields(){return n},get _formValues(){return g},get _stateFlags(){return N},set _stateFlags(r){N=r},get _defaultValues(){return h},get _names(){return w},set _names(r){w=r},get _formState(){return t},set _formState(r){t=r},get _options(){return s},set _options(r){s={...s,...r}}},trigger:oe,register:_e,handleSubmit:gr,watch:yr,setValue:z,getValues:Ie,reset:$e,resetField:mr,clearErrors:hr,unregister:ve,setError:pr,setFocus:xr,getFieldState:He}}function Pe(e={}){const i=J.useRef(),[s,o]=J.useState({isDirty:!1,isValidating:!1,isLoading:!0,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:se(e.defaultValues)?void 0:e.defaultValues});i.current||(i.current={...jr(e,()=>o(n=>({...n}))),formState:s});const t=i.current.control;return t._options=e,Tr({subject:t._subjects.state,next:n=>{Er(n,t._proxyFormState,t._updateFormState,!0)&&o({...t._formState})}}),J.useEffect(()=>{t._stateFlags.mount||(t._updateValid(),t._stateFlags.mount=!0),t._stateFlags.watch&&(t._stateFlags.watch=!1,t._subjects.state.next({})),t._removeUnmounted()}),J.useEffect(()=>{e.values&&!Q(e.values,t._defaultValues)&&t._reset(e.values,t._options.resetOptions)},[e.values,t]),J.useEffect(()=>{s.submitCount&&t._focusError()},[t,s.submitCount]),i.current.formState=Dr(s,t),i.current}function $r(){const{register:e,handleSubmit:i,formState:{errors:s}}=Pe(),{t:o}=Oe(),t=Le();return T("form",{onSubmit:i(h=>{Nr(h).then(()=>{ie(o("general.signin"),{className:Ce}),t("/")}).catch(g=>{ie(o("page.login.error."+g.message),{className:Re})})}),className:"flex flex-col items-center bg-slate-100 w-full lg:w-3/5 xl:w-2/5 p-10 rounded-md",children:[p("div",{className:"mb-5 text-xl text-slate-500 font-bold",children:o("page.login.header")}),T("div",{className:"relative w-full my-3",children:[p("input",{id:"email",type:"text",placeholder:o("page.login.email"),className:"peer h-12 px-4 w-full rounded-md border-2 border-gray-300 text-gray-900 placeholder-transparent focus:outline-none focus:border-sky-500",...e("email",{required:!0})}),p("label",{htmlFor:"email",className:"absolute px-1 bg-white left-4 -top-2 text-gray-600 text-sm transition-all peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-placeholder-shown:top-2.5 peer-focus:-top-2 peer-focus:text-sky-500 peer-focus:text-sm",children:o("page.login.email")}),s.email&&p("span",{className:"text-xs text-red-500",children:"This field is required"})]}),T("div",{className:"relative w-full my-3",children:[p("input",{id:"password",type:"password",placeholder:"Password",className:"peer h-12 px-4 w-full rounded-md border-2 border-gray-300 text-gray-900 placeholder-transparent focus:outline-none focus:border-sky-500",...e("password",{required:!0})}),p("label",{htmlFor:"password",className:"absolute px-1 bg-white left-4 -top-2 text-gray-600 text-sm transition-all peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-placeholder-shown:top-2.5 peer-focus:-top-2 peer-focus:text-sky-500 peer-focus:text-sm",children:o("page.login.password")}),s.password&&p("span",{className:"text-xs text-red-500",children:"This field is required"})]}),p("button",{type:"submit",className:"px-4 mt-3 py-2 w-full rounded-md duration-150 cursor-pointer bg-blue-500 hover:bg-blue-300 text-white",children:o("page.login.submit")}),T("div",{className:"w-full mt-3 flex justify-between items-center text-slate-500",children:[p(Ee,{to:"/auth/register",className:"underline hover:no-underline cursor-pointer hover:text-slate-700 duration-150",children:o("page.login.create")}),p(Ee,{to:"/auth/recovery",className:"underline hover:no-underline cursor-pointer hover:text-slate-700 duration-150",children:o("page.login.recovery")})]})]})}function Jr(){const{t:e}=Oe(),{register:i,handleSubmit:s,formState:{errors:o}}=Pe(),t=Le();return T("form",{onSubmit:s(h=>{ir.fetch("/auth/recover",{method:"POST",body:JSON.stringify(h)}).then(async g=>{ie(e("page.recovery.success"),{className:Ce}),t("/auth/login")}).catch(g=>{console.log("error",g.message),ie(e("page.recovery.error."+g.message),{className:Re})})}),className:"flex flex-col items-center bg-slate-100 w-full lg:w-3/5 xl:w-2/5 p-10 rounded-md",children:[p("div",{className:"mb-5 text-xl text-slate-500 font-bold",children:e("page.recovery.header")}),T("div",{className:"relative w-full my-3",children:[p("input",{id:"email",type:"text",placeholder:e("page.recovery.email"),className:"peer h-12 px-4 w-full rounded-md border-2 border-gray-300 text-gray-900 placeholder-transparent focus:outline-none focus:border-sky-500",...i("email",{required:!0})}),p("label",{htmlFor:"email",className:"absolute px-1 bg-white left-4 -top-2 text-gray-600 text-sm transition-all peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-placeholder-shown:top-2.5 peer-focus:-top-2 peer-focus:text-sky-500 peer-focus:text-sm",children:e("page.recovery.email")}),o.email&&p("span",{className:"text-xs text-red-500",children:"This field is required"})]}),p("div",{className:"text-sm text-center text-slate-500",children:e("page.recovery.info")}),p("button",{type:"submit",className:"px-4 mt-3 py-2 w-full rounded-md duration-150 cursor-pointer bg-blue-500 hover:bg-blue-300 text-white",children:e("page.recovery.submit")})]})}function Kr(){const{t:e}=Oe(),{register:i,handleSubmit:s,watch:o,formState:{errors:t}}=Pe(),n=Le(),h=async N=>{if(o("password")!=N)return"Your passwords do no match"};return T("form",{onSubmit:s(N=>{delete N.confirmation,ir.fetch("/users",{method:"POST",body:JSON.stringify(N)}).then(async w=>{ie(e("page.register.success"),{className:Ce}),n("/auth/login")}).catch(w=>{ie(e("page.register.error."+w.message),{className:Re})})}),className:"flex flex-col items-center bg-slate-100 w-full lg:w-3/5 xl:w-2/5 p-10 rounded-md",children:[p("div",{className:"mb-5 text-xl text-slate-500 font-bold",children:e("page.register.header")}),T("div",{className:"flex flex-col xl:flex-row w-full",children:[T("div",{className:"relative w-full my-3 lg:pr-2",children:[p("input",{id:"first_name",type:"text",placeholder:e("page.register.first_name"),className:"peer h-12 px-4 w-full rounded-md border-2 border-gray-300 text-gray-900 placeholder-transparent focus:outline-none focus:border-sky-500",...i("first_name",{required:!0})}),p("label",{htmlFor:"first_name",className:"absolute px-1 bg-white left-4 -top-2 text-gray-600 text-sm transition-all peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-placeholder-shown:top-2.5 peer-focus:-top-2 peer-focus:text-sky-500 peer-focus:text-sm",children:e("page.register.first_name")}),t.first_name&&p("span",{className:"text-xs text-red-500",children:"This field is required"})]}),T("div",{className:"relative w-full my-3 lg:pl-2",children:[p("input",{id:"last_name",type:"text",placeholder:e("page.register.last_name"),className:"peer h-12 px-4 w-full rounded-md border-2 border-gray-300 text-gray-900 placeholder-transparent focus:outline-none focus:border-sky-500",...i("last_name",{required:!0})}),p("label",{htmlFor:"first_name",className:"absolute px-1 bg-white left-4 -top-2 text-gray-600 text-sm transition-all peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-placeholder-shown:top-2.5 peer-focus:-top-2 peer-focus:text-sky-500 peer-focus:text-sm",children:e("page.register.last_name")}),t.first_name&&p("span",{className:"text-xs text-red-500",children:"This field is required"})]})]}),T("div",{className:"relative w-full my-3",children:[p("input",{id:"display",type:"text",placeholder:e("page.register.display"),className:"peer h-12 px-4 w-full rounded-md border-2 border-gray-300 text-gray-900 placeholder-transparent focus:outline-none focus:border-sky-500",...i("display")}),p("label",{htmlFor:"display",className:"absolute px-1 bg-white left-4 -top-2 text-gray-600 text-sm transition-all peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-placeholder-shown:top-2.5 peer-focus:-top-2 peer-focus:text-sky-500 peer-focus:text-sm",children:e("page.register.display")}),t.display&&p("span",{className:"text-xs text-red-500",children:"This field is required"})]}),T("div",{className:"relative w-full my-3",children:[p("input",{id:"email",type:"text",placeholder:e("page.register.email"),className:"peer h-12 px-4 w-full rounded-md border-2 border-gray-300 text-gray-900 placeholder-transparent focus:outline-none focus:border-sky-500",...i("email",{required:!0})}),p("label",{htmlFor:"email",className:"absolute px-1 bg-white left-4 -top-2 text-gray-600 text-sm transition-all peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-placeholder-shown:top-2.5 peer-focus:-top-2 peer-focus:text-sky-500 peer-focus:text-sm",children:e("page.register.email")}),t.email&&p("span",{className:"text-xs text-red-500",children:"This field is required"})]}),T("div",{className:"relative w-full my-3",children:[p("input",{id:"phone",type:"text",placeholder:e("page.register.phone"),className:"peer h-12 px-4 w-full rounded-md border-2 border-gray-300 text-gray-900 placeholder-transparent focus:outline-none focus:border-sky-500",...i("phone")}),p("label",{htmlFor:"phone",className:"absolute px-1 bg-white left-4 -top-2 text-gray-600 text-sm transition-all peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-placeholder-shown:top-2.5 peer-focus:-top-2 peer-focus:text-sky-500 peer-focus:text-sm",children:e("page.register.phone")}),t.phone&&p("span",{className:"text-xs text-red-500",children:"This field is required"})]}),T("div",{className:"flex flex-col xl:flex-row w-full",children:[T("div",{className:"relative w-full my-3 lg:pr-2",children:[p("input",{id:"password",type:"password",placeholder:e("page.register.password"),className:"peer h-12 px-4 w-full rounded-md border-2 border-gray-300 text-gray-900 placeholder-transparent focus:outline-none focus:border-sky-500",...i("password",{required:!0})}),p("label",{htmlFor:"password",className:"absolute px-1 bg-white left-4 -top-2 text-gray-600 text-sm transition-all peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-placeholder-shown:top-2.5 peer-focus:-top-2 peer-focus:text-sky-500 peer-focus:text-sm",children:e("page.register.password")}),t.password&&p("span",{className:"text-xs text-red-500",children:"This field is required"})]}),T("div",{className:"relative w-full my-3 lg:pl-2",children:[p("input",{id:"confirmation",type:"password",placeholder:e("page.register.confirmation"),className:"peer h-12 px-4 w-full rounded-md border-2 border-gray-300 text-gray-900 placeholder-transparent focus:outline-none focus:border-sky-500",...i("confirmation",{required:!0,validate:h})}),p("label",{htmlFor:"confirmation",className:"absolute px-1 bg-white left-4 -top-2 text-gray-600 text-sm transition-all peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-placeholder-shown:top-2.5 peer-focus:-top-2 peer-focus:text-sky-500 peer-focus:text-sm",children:e("page.register.confirmation")}),t.confirmation&&p("span",{className:"text-xs text-red-500",children:"This field is required"})]})]}),p("button",{type:"submit",className:"px-4 mt-3 py-2 w-full rounded-md duration-150 cursor-pointer bg-blue-500 hover:bg-blue-300 text-white",children:e("page.register.submit")}),p("div",{className:"mt-3 flex w-full text-slate-500",children:p(Ee,{className:"underline hover:no-underline cursor-pointer hover:text-slate-700 duration-150",to:"/auth/login",children:e("page.register.back")})})]})}function zr(){return p("div",{className:"flex-1 flex flex-col items-center justify-center py-10",children:T(Ar,{children:[p(Z,{path:"/",element:p(Ye,{to:"/"})}),T(Z,{element:p(Vr,{}),children:[p(Z,{path:"/login",element:p($r,{})}),p(Z,{path:"/register",element:p(Kr,{})}),p(Z,{path:"/recovery",element:p(Jr,{})})]}),p(Z,{path:"/*",element:p(Ye,{to:"/"})})]})})}export{zr as default};
